---
id: jira
title: Jira Integration with Backtrace
sidebar_label: Jira
description: Connect errors from Backtrace with issues in Jira to easily manage and track bug fixes.
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import useBaseUrl from '@docusaurus/useBaseUrl';

Integrate your Backtrace and Atlassian Jira instances to create and update issues in Jira for errors reported to Backtrace.

## What You'll Need
- A Backtrace account ([log in](https://backtrace.io/login) or [sign up](https://backtrace.io/sign-up) for a free license)
- A [Jira instance](https://www.atlassian.com/software/jira)

## Connect to Jira
To set up the Jira integration for a project, connect your Backtrace account to a Jira instance.

:::note
Jira administrator permissions are required to create and delete Jira connections.
:::

### Jira Cloud
To connect to a Jira Cloud instance, install the [Backtrace for Jira](https://marketplace.atlassian.com/apps/1228456?tab=overview&hosting=cloud) app.

1. Go to **Project settings** > under **Workflow** > select **Integrations**.
1. Click **+**, then select **Issue tracking** > **Jira Cloud**.
1. Click **Install Jira Plugin**.
1. From the Atlassian Marketplace, click **Get it now**.
1. Select the Jira Cloud instance to connect with, then click **Get it now** again. 
1. After the plugin is installed, click **Get Started**.
1. Enter the URL for your Backtrace instance, then click **Continue to Backtrace** to configure the Jira Cloud integration in Backtrace.

:::note Multiple Jira Cloud Instances
If you have multiple Jira Cloud instances, repeat the steps above to create separate connections for each one.
:::

### Jira Server
:::note
Support for Atlassian Server products ends on February 15, 2024. You may want to consider moving to Jira Cloud.
:::

To connect to a Jira Server instance, enter the Jira instance URL, and select the authentication type. The next steps will depend on the authentication type you select. The available authentication types are:
- **Basic Auth**: Requires a username and password.
- **OAuth 1.0**: Requires an RSA key pair and a new application link in Jira.
- **OAuth 2.0**: Requires an OAuth app installed for the Jira instance.

:::note
Your Jira Server instance might restrict the authentication method to OAuth only. If you require basic authentication, contact your Jira admin.
:::

1. Go to **Project settings** > under **Workflow** > select **Integrations**.
1. Click **+**, then select **Issue tracking** > **Jira Server**.
1. In the **Jira Server url** field, enter the URL for your Jira instance.
1. For the **Auth type** field, select the authentication method. Options are:
    - **Basic Auth**: Enter the **Username** and **Password**.
    - **OAuth 1.0**: Requires an RSA key pair. The public key is required to create a new application link in Jira, while the private key is required for the configuration in Backtrace. You can either generate the RSA key pair or use the RSA key pair generated by Backtrace. For information about how to generate an RSA key pair, see [OAuth 1.0](#oauth-10). If you want to use the RSA key pair generated by Backtrace, copy and save the provided public key.
    - **OAuth 2.0**: Requires an OAuth app installed for the Jira instance and the URL.
1. Click **Continue**.

#### OAuth 1.0
**Generate an RSA key pair**

To generate an RSA public and private key pair, run the following commands in your terminal one by one.

```bash
openssl genrsa -out jira_privatekey.pem 1024
openssl req -newkey rsa:1024 -x509 -key jira_privatekey.pem -out jira_publickey.cer -days 365
openssl pkcs8 -topk8 -nocrypt -in jira_privatekey.pem -out jira_privatekey.pkcs8
openssl x509 -pubkey -noout -in jira_publickey.cer  > jira_publickey.pem
```

You can modify the expiration date, but you may need to update the connection more frequently.

**Create a new application link in Jira**
1. In Jira, go to **Settings** > **Products** > **Application Links**.
1. Click **Create link**.
1. Enter any application URL, then click **Continue**. If you see a warning that the URL is invalid, ignore it and click **Continue** again.
1. In the form, enter the following:
    - **Application Name**: Backtrace
    - **Application Type**: Generic Application
    - **Service Provider Name**: Backtrace
    - **Consumer Key**: BacktraceIO
    - **Shared Secret**: Backtrace
    - **Request Token URL**: https:<span>//backtrace.io/</span>
    - **Access Token URL**: https:<span>//backtrace.io/</span>
    - **Authorize URL**: https:<span>//backtrace.io/</span>
    - **Create Incoming Link**: No
1. Click **Continue**. On the **Application links** page, you'll see an application called Backtrace.
1. Next to the Backtrace application, click **Edit**.
1. In the Configure Backtrace dialog, select **Incoming Authentication**.
1. Enter the following:
    - **Consumer Key**: BacktraceIO
    - **Consumer Name**: Backtrace
    - **Public Key**: The public key of the `jira_publickey.pem` file.
1. Click **Save**.

**Connect the Jira Server app with Backtrace**
1. In Backtrace, go back to the set up for the Jira Server integration.
1. Click **Authorize Backtrace**. You'll be redirected to your Jira Server instance.
1. Click **Allow**.
1. In Backtrace, go back to the set up for the Jira Server integration, then click **Continue** to configure the Jira Server integration.

In Backtrace, you'll see a new Jira Server integration appear on the **Workflow integrations** page. Jira should now be authorized for all projects in your Backtrace organization. 

## Configure the Integration
1. Go to **Project settings** > under **Workflow** > select **Integrations**.
1. Click **+**, then select **Issue tracking** > **Jira Cloud** or **Jira Server**.
1. Select a Jira instance, then click **Continue**.
1. Configure the settings as required. <br />
For more information about the settings, see [Jira Integration Settings](#jira-integration-settings).
1. Click **Save**.

## Jira Cloud (Legacy)
1. Go to **Project settings** > **Workflow Integrations**.
1. Click **+**, then select **issue tracking** > **Jira**. <br></br>
    You can configure the following settings:
    - Jira API (required): The Jira Endpoint URL (see below for examples).
    - E-mail (required): E-mail associated with your Jira instance. For some users, the username of the Jira instance may be used.
    - API Token (required): Jira API Token obtained here. Some Jira instances also support passwords in lieu of API Tokens, but that functionality is deprecated and will be removed.
    - Project Key (required): The Jira Project Key.
    - Issue Type: Jira Issue Type. Defaults to Bug if not present.
    - Subject (required): Content to put in the Summary field of the ticket.
    - Custom Field Mapping - Labels: See below
    - Custom Field Mapping - Description: See below
    - Custom Fields: See below

Next: After filling in the integration-specific settings, proceed to [Common Settings](/error-reporting/workflow-integrations/common-settings) to finish configuring the integration.

### Jira URL Examples
The Jira URL generally takes one of the following formats:
- https:<span>//yourhost.yourdomain.com/rest/api/2/</span>
- https:<span>//yourhost.yourdomain.com/jira/rest/api/2/</span>
- https:<span>//yourname.atlassian.net/rest/api/2/</span> (for Atlassian-hosted Jira sites)

Atlassian now also offers a v3 API that is currently in Beta, at this time v3 is not currently supported. Be sure to use a v2 endpoint. For more detailed information, see the reference for [Jira's REST APIs](https://developer.atlassian.com/server/jira/platform/rest-apis/).

## Jira Integration Settings

### Data Synchronization
With data synchronization, Backtrace will sync resolution Status and Assignee fields with Jira issues. The following settings are available:
- **Data synchronization from Backtrace to Jira**: The Status and Assignee fields will be updated in Jira when issues are updated in Backtrace.
- **Data synchronization from Jira to Backtrace**: The Status and Assignee fields will be updated in Backtrace when issues are updated in Jira.

<img src={useBaseUrl('img/error-reporting/workflow-integrations/jira-two-way-sync.png')} alt="Shows how to enable two-way sync from Backtrace and Jira." width="700" />

We recommend that you enable both settings for two-way sync.

### Jira Template
By default, the Jira template is populated with the default fields that are configured for your Jira project. You can change the values for the **Subject line**, **Issue Type**, and **Main body text field** as needed.

<img src={useBaseUrl('img/error-reporting/workflow-integrations/jira-template.png')} alt="Shows how to configure the template used to create Jira issues." width="700" />

#### Custom Field Mapping
Backtrace populates the default Description field. If you use a customized template where the field removed or renamed, specify an alternate field name for Backtrace to use in the **Main body text field**.

### Main Body Content
You can specify attributes to be appended to the description in the **Main body content**.

<img src={useBaseUrl('img/error-reporting/workflow-integrations/jira-main-body-content.png')} alt="Shows how to set the attributes to be appended in the main body text." width="700" />

### Custom Fields
The **Custom fields** setting allows you specify additional fields you want to populate in your Jira issue. This is useful when you are using a Jira template with added custom fields that are required - if you don't populate these, then the integration will fail to create the Jira ticket.

You can use the value of an attribute within the text by preceding it with $ (e.g. $version). For array-type fields (such as labels), separate values with commas. If an error group has more than one value for the specified attribute, the value with the highest count will be used.

<img src={useBaseUrl('img/error-reporting/workflow-integrations/jira-custom-fields.png')} alt="Shows how to configure custom fields" width="700" />

You can use combinations of literal strings and attribute values. For example, you can set a field's value to "Hostname: $hostname, Version: $version" and the Jira integration will put the values of those attributes within the string, as expected.

:::note
If you refer to an attribute within a custom field with the $attribute syntax, but are not seeing the attribute populated within the field in Jira, make sure you've added the attribute to your Project Settings configuration under Attributes. For more information, see [Attributes](/error-reporting/project-setup/attributes/).
:::

### Resolved Until Behavior
The **Resolved until behavior** setting allows you configure the [Resolve Until](/error-reporting/web-console/triage/#reopen-criteria---mute-or-resolve-until) feature for detected regressions with versions applied in Jira issue.

If a linked Jira issue is marked as resolved and the Fix Versions field is applied, Backtrace will reopen the Jira ticket if the errors reoccur in a later version.

<img src={useBaseUrl('img/error-reporting/workflow-integrations/jira-resolve-until.png')} alt="Shows how to configure the Resolved Until behavior." width="700" />

To set up this feature, the Backtrace version attribute has to be mapped to a Jira field (the default is Fix Versions). Select a version attribute in Backtrace and the Jira field that contains the version with fixes. To isolate the version number, a regex needs to be applied to remove extraneous information.

## Troubleshooting
If you've set up a Backtrace integration with Jira, but are not receiving any new Jira issues from Backtrace, verify the following:
- Is your Jira endpoint correct? Your Jira endpoint should end in /Jira/rest/api/2/ or /rest/api/2/, depending on your Jira configuration. Atlassian has recently released v3 in Beta, at this time it is not currently supported. Be sure to use a v2 endpoint.
- Is your project key correct?  
- Does the Jira user associated with the e-mail you provided have permissions to create new issues within the project you specified?
- Are you using e-mail/password or username/password combination instead of e-mail/API Token or username/API Token?
- Do you have any required custom fields? If so, you'll need to provide values for these fields within the Custom Fields section of the Backtrace Jira workflow configuration.
- Are you using an Issue Type other than Bug? If so, make sure to specify this in the Issue Type configuration setting.
- Does your screen have fields called Labels and Description? If one of these is missing, you'll need to specify an alternative for these in the Custom Field Mapping section.
- Does your Jira project configuration include all the required fields? For more information, see below.

### Required Jira Fields
Backtrace requires the following fields, and automatically populates them based on your settings. You can override the content of any of these settings by specifying their value in the appropriate Backtrace Jira config setting, or by specifying it as a Custom Field.

It's important to ensure that these fields are specified properly, as the Jira API will reject any request that has invalid fields or missing required fields:
- **Project Key**: This is specified by the "Project Key" setting.
- **Summary**: This is specified by the "Subject" setting.
- **Issue type**: This is specified by the "Issue Type" setting, set to "Bug" by default.
- **Labels**: Backtrace assumes a labels-type field named "labels" and will populate this with the label "Backtrace", but you can override this by adding "labels" as a Custom Field. You can also specify an alternate name for this field with the Custom Field Mapping option.
- **Description**: Backtrace assumes a text field named "description" and populates this with the main error information, but you can override this by adding "description" as a Custom Field (not recommended). You can also specify an alternate name for this field with the Custom Field Mapping option.
- **Reporter**: Backtrace expects a field named "reporter", which is used to identify the user who created an issue manually from Backtrace.